<?xml version="1.0"?>
<!-- This URDF was automatically created by SolidWorks to URDF Exporter! Originally created by Stephen Brawner (brawner@gmail.com) 
     Commit Version: 1.6.0-4-g7f85cfe  Build Version: 1.6.7995.38578
     For more information, please see http://wiki.ros.org/sw_urdf_exporter -->
<robot
  name="diff_robot">
  <link
    name="base_footprint">
    <inertial>
      <origin
        xyz="0.0788647425097158 5.6870374027268E-05 0.0540488105635751"
        rpy="0 0 0" />
      <mass
        value="0.142039932145577" />
      <inertia
        ixx="0.000473929554425108"
        ixy="3.63594584335061E-07"
        ixz="-4.83600310606048E-22"
        iyy="0.000703610142257483"
        iyz="-2.50131576332158E-23"
        izz="0.00117732663678437" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://diff_robot/meshes/base_footprint.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://diff_robot/meshes/base_footprint.STL" />
      </geometry>
    </collision>
  </link>
  <link
    name="base_link">
    <inertial>
      <origin
        xyz="0.0640831914396795 0.000219026756431262 0.0392009847517949"
        rpy="0 0 0" />
      <mass
        value="0.440554283125895" />
      <inertia
        ixx="0.00100581302820588"
        ixy="2.61463713369735E-07"
        ixz="6.81290790279992E-09"
        iyy="0.00147211347451393"
        iyz="-4.63443404454339E-07"
        izz="0.00246647282666342" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://diff_robot/meshes/base_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://diff_robot/meshes/base_link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="base_link_joint"
    type="fixed">
    <origin
      xyz="0.000218079198520476 0 0.0325488105635752"
      rpy="0 0 0" />
    <parent
      link="base_footprint" />
    <child
      link="base_link" />
    <axis
      xyz="0 0 0" />
  </joint>
  <link
    name="left_wheel">
    <inertial>
      <origin
        xyz="-0.000448319094040006 -6.53372727473581E-05 0.0152910495758897"
        rpy="0 0 0" />
      <mass
        value="0.0790315658072254" />
      <inertia
        ixx="2.82202271152179E-05"
        ixy="5.0765501243704E-09"
        ixz="-4.3219991782609E-10"
        iyy="2.81809290516973E-05"
        iyz="1.43497425082393E-10"
        izz="4.6080462635565E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://diff_robot/meshes/left_wheel.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://diff_robot/meshes/left_wheel.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="left_wheel_joint"
    type="continuous">
    <origin
      xyz="0 0.1015 0"
      rpy="1.5708 0 3.1416" />
    <parent
      link="base_link" />
    <child
      link="left_wheel" />
    <axis
      xyz="0 0 1" />
  </joint>
  <link
    name="right_wheel">
    <inertial>
      <origin
        xyz="-0.000536570749193782 -0.000884958577049552 -0.0152910495757591"
        rpy="0 0 0" />
      <mass
        value="0.0790315658065018" />
      <inertia
        ixx="2.82197955972771E-05"
        ixy="6.52249705915878E-09"
        ixz="-3.73114762562389E-10"
        iyy="2.81813605693893E-05"
        iyz="-2.61100893770204E-10"
        izz="4.60804626355091E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://diff_robot/meshes/right_wheel.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://diff_robot/meshes/right_wheel.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="right_wheel_joint"
    type="continuous">
    <origin
      xyz="-0.0001512 -0.1015 0.00082881"
      rpy="1.5708 0 3.1416" />
    <parent
      link="base_link" />
    <child
      link="right_wheel" />
    <axis
      xyz="0 0 1" />
  </joint>
  <link
    name="caster_wheel">
    <inertial>
      <origin
        xyz="7.00283429022619E-08 -1.38777878078145E-17 0.00377839370196904"
        rpy="0 0 0" />
      <mass
        value="0.122994969459015" />
      <inertia
        ixx="1.77978350937237E-05"
        ixy="-7.57592131018522E-21"
        ixz="4.71400888449697E-20"
        iyy="1.61740883178197E-05"
        iyz="2.49222763647367E-21"
        izz="2.49528625086979E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://diff_robot/meshes/caster_wheel.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://diff_robot/meshes/caster_wheel.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="caster_wheel_joint"
    type="fixed">
    <origin
      xyz="0.165 0 -0.0173"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="caster_wheel" />
    <axis
      xyz="0 0 0" />
  </joint>
  <gazebo reference="base_link">
    <material>Gazebo/Blue</material>
  </gazebo>
  <gazebo reference="caster_wheel">
  	<mu1>0.0</mu1>
  	<mu2>0.0</mu2>
  	<kp>10000.0</kp>
  	<kd>1.0</kd>
  </gazebo>

  <gazebo>
    <plugin name="turtlebot3_diff_drive" filename="libgazebo_ros_diff_drive.so">

      <ros>
        <!-- <namespace>/tb3</namespace> -->
      </ros>
      <update_rate>30</update_rate>
      
      <!-- wheels -->
      <left_joint>left_wheel_joint</left_joint>
      <right_joint>right_wheel_joint</right_joint>

      <!-- kinematics: Adjust -->
      <wheel_separation>0.204</wheel_separation> <!-- meters -->
      <wheel_diameter>0.065</wheel_diameter>		<!-- meters -->

      <!-- limits: Adjust -->
      <max_wheel_torque>0.216</max_wheel_torque> <!-- N·m -->
      <max_wheel_acceleration>12.0</max_wheel_acceleration> <!-- rad/s² -->

      <command_topic>cmd_vel</command_topic>

      <!-- output -->
      <publish_odom>true</publish_odom>
      <publish_odom_tf>true</publish_odom_tf>
      <publish_wheel_tf>true</publish_wheel_tf>

      <odometry_topic>odom</odometry_topic>
      <odometry_frame>odom</odometry_frame>
      <robot_base_frame>base_footprint</robot_base_frame>

    </plugin>

    <plugin name="dif_robot_joint_state" filename="libgazebo_ros_joint_state_publisher.so">
      <ros>
        <!-- <namespace>/tb3</namespace> -->
        <remapping>~/out:=joint_states</remapping>
      </ros>
      <update_rate>30</update_rate>
      <joint_name>left_wheel_joint</joint_name>
      <joint_name>right_wheel_joint</joint_name>

    </plugin>
    </gazebo>
</robot>
